<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Refinitiv Management Classes 2.0.2 : RTRShmMOServerMemPool Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a></div>
<h1>RTRShmMOServerMemPool Class Reference</h1>RTRShmMOServerMemPool is an implementation of the abstract base class RTRMOServerMemPool which uses shared memory to allocate storage for managed objects and variables allocated by the application(server).  
<a href="#_details">More...</a>
<p>
<code>#include &lt;shmmosvr.h&gt;</code>
<p>
Inherits <a class="el" href="class_r_t_r_timer_cmd.html">RTRTimerCmd</a>.
<p>
Inheritance diagram for RTRShmMOServerMemPool:<p><center><img src="class_r_t_r_shm_m_o_server_mem_pool__inherit__graph.png" border="0" usemap="#_r_t_r_shm_m_o_server_mem_pool__inherit__map" alt="Inheritance graph"></center>
<map name="_r_t_r_shm_m_o_server_mem_pool__inherit__map">
<area href="class_r_t_r_timer_cmd.html" shape="rect" coords="49,157,161,184" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for RTRShmMOServerMemPool:<p><center><img src="class_r_t_r_shm_m_o_server_mem_pool__coll__graph.png" border="0" usemap="#_r_t_r_shm_m_o_server_mem_pool__coll__map" alt="Collaboration graph"></center>
<map name="_r_t_r_shm_m_o_server_mem_pool__coll__map">
<area href="class_r_t_r_timer_cmd.html" shape="rect" coords="117,282,229,309" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="class_r_t_r_shm_m_o_server_mem_pool-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_r_shm_m_o_server_mem_pool.html#a0">RTRShmMOServerMemPool</a> (<a class="el" href="class_r_t_r_server_shared_memory_root.html">RTRServerSharedMemoryRoot</a> &amp;, RTRServerSemaphoreSet &amp;, int maxClients, unsigned long size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_r_shm_m_o_server_mem_pool.html#a1">~RTRShmMOServerMemPool</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga0" doxytag="RTRShmMOServerMemPool::error"></a>
RTRBOOL&nbsp;</td><td class="memItemRight" valign="bottom"><b>error</b> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_r_t_r_string.html">RTRString</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_r_shm_m_o_server_mem_pool___t_a_g02.html#ga0">text</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga1" doxytag="RTRShmMOServerMemPool::partition"></a>
RTRServerPartition &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>partition</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga0" doxytag="RTRShmMOServerMemPool::useStats"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>useStats</b> (<a class="el" href="class_r_t_r_shared_memory_stats.html">RTRSharedMemoryStats</a> *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_r_shm_m_o_server_mem_pool___t_a_g06.html#ga0">processTimerEvent</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga1" doxytag="RTRShmMOServerMemPool::pollForMessages"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>pollForMessages</b> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_r_shm_m_o_server_mem_pool.html#s0">timerSeconds</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_r_shm_m_o_server_mem_pool.html#s1">timerMilliSeconds</a></td></tr>

<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="n0" doxytag="RTRShmMOServerMemPool::RTRSharedMemoryStats"></a>
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_r_shm_m_o_server_mem_pool.html#n0">RTRSharedMemoryStats</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="n1" doxytag="RTRShmMOServerMemPool::operator<<"></a>
std::ostream &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>operator&lt;&lt;</b> (std::ostream &amp;, const <a class="el" href="class_r_t_r_shm_m_o_server_mem_pool.html">RTRShmMOServerMemPool</a> &amp;)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
RTRShmMOServerMemPool is an implementation of the abstract base class RTRMOServerMemPool which uses shared memory to allocate storage for managed objects and variables allocated by the application(server). 
<p>
The object structure defined by the application is reproduced in shared memory and used by clients (instances of RTRShmProxyMgr) to clone managed objects and variables in the client process.<p>
The memory management scheme is pseudo dynamic. Shared memory storage is allocated dynamically (based on demand from the application) as storage for either an object or some type of variable. Once allocated for a particular purpose, it will never be freed for general purpose use, When storage is freed it is placed on a free list with other storage of the same type (same size and layout).<p>
In general, modification of shared memory must be synchronized with access with other processes. Allocated objects and variables cannot be attached to or removed from the existing shared memory layout without acquiring a lock. For efficiency, allocation is done on demand but attach and remove operations are done in batches. Allocation does not need to be synchronized because there is only one reader and writer of the free lists, the server. Lists of objects and variables which need to attached or removed are maintained by the server and serviced at regular intervals. This means that the server does not have to obtain a semaphore lock every time an object is allocated or deleted.<p>
If no memory (or no memory of the requested type) is available the sever returns a null pointer to the caller (usually an instance of an object or variable implementation class). It is assumed that the caller will detect this and allocate memory from the heap as necessary.<p>
The server also detects and processes parameter operations requested by clients.<p>
If a fatal error is encountered during initialization, error() will be true and <a class="el" href="group___r_t_r_shm_m_o_server_mem_pool___t_a_g02.html#ga0">text()</a> will contain an explanation of the problem.<p>
<b>See Also:</b><br>
 RTRShmProxyMgr, RTRServerPartition, RTRServerSemaphoreSet 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="RTRShmMOServerMemPool::RTRShmMOServerMemPool"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">RTRShmMOServerMemPool::RTRShmMOServerMemPool           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_r_t_r_server_shared_memory_root.html">RTRServerSharedMemoryRoot</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>RTRServerSemaphoreSet &amp;&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>maxClients</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor     </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="RTRShmMOServerMemPool::~RTRShmMOServerMemPool"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">RTRShmMOServerMemPool::~RTRShmMOServerMemPool           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor     </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="s0" doxytag="RTRShmMOServerMemPool::timerSeconds"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="class_r_t_r_shm_m_o_server_mem_pool.html#s0">RTRShmMOServerMemPool::timerSeconds</a><code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
default 1     </td>
  </tr>
</table>
<a class="anchor" name="s1" doxytag="RTRShmMOServerMemPool::timerMilliSeconds"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="class_r_t_r_shm_m_o_server_mem_pool.html#s1">RTRShmMOServerMemPool::timerMilliSeconds</a><code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
default 0     </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated for Refinitiv Management Classes by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
