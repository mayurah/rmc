<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Refinitiv Management Classes 2.0.2 : RTRServerSharedMemoryRoot Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a></div>
<h1>RTRServerSharedMemoryRoot Class Reference</h1>The encapsulation of the server side of a server/client shared memory relationship. An instance of RTRServerSharedMemoryRoot is constructed with a key and will then attempt to allocate the shared memory using with that key. If memory already exists with that key then the memory server will examine that memory to determine whether or not it can safely be reinitialized. If the memory header matches that which the server would create (version, size etc) and the memory appears to no longer be in use, then the server will re-initialize the existing memory. If the memory could be used but has not yet timed-out (based on data extracting from the existing memory) then the server will periodically retry the allocation process.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;shrdmem.h&gt;</code>
<p>
Inherits <a class="el" href="class_r_t_r_timer_cmd.html">RTRTimerCmd</a>.
<p>
Inheritance diagram for RTRServerSharedMemoryRoot:<p><center><img src="class_r_t_r_server_shared_memory_root__inherit__graph.png" border="0" usemap="#_r_t_r_server_shared_memory_root__inherit__map" alt="Inheritance graph"></center>
<map name="_r_t_r_server_shared_memory_root__inherit__map">
<area href="class_r_t_r_timer_cmd.html" shape="rect" coords="56,157,168,184" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for RTRServerSharedMemoryRoot:<p><center><img src="class_r_t_r_server_shared_memory_root__coll__graph.png" border="0" usemap="#_r_t_r_server_shared_memory_root__coll__map" alt="Collaboration graph"></center>
<map name="_r_t_r_server_shared_memory_root__coll__map">
<area href="class_r_t_r_timer_cmd.html" shape="rect" coords="117,282,229,309" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="class_r_t_r_server_shared_memory_root-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_r_server_shared_memory_root.html#a0">RTRServerSharedMemoryRoot</a> (const <a class="el" href="class_r_t_r_object_id.html">RTRObjectId</a> &amp;context, const char *name, const <a class="el" href="class_r_t_r_string.html">RTRString</a> &amp;mk, const <a class="el" href="class_r_t_r_string.html">RTRString</a> &amp;sk, int s, unsigned int long, int m)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_r_server_shared_memory_root.html#a1">~RTRServerSharedMemoryRoot</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga0" doxytag="RTRServerSharedMemoryRoot::instanceId"></a>
const <a class="el" href="class_r_t_r_object_id.html">RTRObjectId</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>instanceId</b> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="class_r_t_r_string.html">RTRString</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_r_server_shared_memory_root___t_a_g02.html#ga0">text</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_r_t_r_string.html">RTRString</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_r_server_shared_memory_root___t_a_g02.html#ga1">key</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">HANDLE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_r_server_shared_memory_root___t_a_g02.html#ga2">id</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">RTRSharedMemoryHdr *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_r_server_shared_memory_root___t_a_g02.html#ga3">header</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">RTRServerSemaphoreSet *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_r_server_shared_memory_root___t_a_g02.html#ga4">semaphoreSet</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual RTRBOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_r_server_shared_memory_root___t_a_g03.html#ga0">error</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga0" doxytag="RTRServerSharedMemoryRoot::partitionIterator"></a>
RTRSharedMemoryPartitionIterator&nbsp;</td><td class="memItemRight" valign="bottom"><b>partitionIterator</b> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_t_r_server_shared_memory_root___t_a_g05.html#ga0">processTimerEvent</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_r_server_shared_memory_root.html#s0">heartbeatInterval</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_r_server_shared_memory_root.html#s1">fixedAddress</a></td></tr>

<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="n0" doxytag="RTRServerSharedMemoryRoot::operator<<"></a>
std::ostream &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>operator&lt;&lt;</b> (std::ostream &amp;, const <a class="el" href="class_r_t_r_server_shared_memory_root.html">RTRServerSharedMemoryRoot</a> &amp;)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The encapsulation of the server side of a server/client shared memory relationship. An instance of RTRServerSharedMemoryRoot is constructed with a key and will then attempt to allocate the shared memory using with that key. If memory already exists with that key then the memory server will examine that memory to determine whether or not it can safely be reinitialized. If the memory header matches that which the server would create (version, size etc) and the memory appears to no longer be in use, then the server will re-initialize the existing memory. If the memory could be used but has not yet timed-out (based on data extracting from the existing memory) then the server will periodically retry the allocation process. 
<p>
Once memory has been successfully allocated or re-initialized then the server will implement a handshaking scheme with any clients which attach to the memory segment.<p>
<b>Options:</b><br>
 By setting the public static data member "fixedAddress" prior to construction the mapping of the shared memory into the process address space can be controlled. It is up to the caller to ensure that the given address is appropriate.<p>
<b>See Also:</b><br>
 RTRSharedMemoryHdr, RTRServerSemaphoreSet 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="RTRServerSharedMemoryRoot::RTRServerSharedMemoryRoot"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">RTRServerSharedMemoryRoot::RTRServerSharedMemoryRoot           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="class_r_t_r_object_id.html">RTRObjectId</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="class_r_t_r_string.html">RTRString</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>mk</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="class_r_t_r_string.html">RTRString</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>sk</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned int&nbsp;</td>
          <td class="mdname" nowrap> <em>long</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>m</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Allocate sh. mem so that s bytes are available for use.     </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="RTRServerSharedMemoryRoot::~RTRServerSharedMemoryRoot"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">RTRServerSharedMemoryRoot::~RTRServerSharedMemoryRoot           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor     </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="s0" doxytag="RTRServerSharedMemoryRoot::heartbeatInterval"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int <a class="el" href="class_r_t_r_server_shared_memory_root.html#s0">RTRServerSharedMemoryRoot::heartbeatInterval</a><code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The interval at which client handshaking will occurr.     </td>
  </tr>
</table>
<a class="anchor" name="s1" doxytag="RTRServerSharedMemoryRoot::fixedAddress"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">char* <a class="el" href="class_r_t_r_server_shared_memory_root.html#s1">RTRServerSharedMemoryRoot::fixedAddress</a><code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Defaults to 0, meaning that system will assign the mapping address for you. Modify this prior to construction to control the mapping yourself.     </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated for Refinitiv Management Classes by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
